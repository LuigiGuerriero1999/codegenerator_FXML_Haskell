# Codegenerator from SceneBuilder-FXML to Haskell
This codegenerator can convert **SceneBuilder-FXML** to **Haskell** code for developing GUIs. The Haskell-code that is being generated uses the **gi-gtk** library wich underlying is using the **GTK** toolkit. The codegenerator was created by the two authors of this repository (Kai and Luigi) for their master's thesis at the University of Hasselt and KU Leuven. The research project was performed at the research group of FunTTOP (ACRO and DTAI):
<div align="center">
    <img src="/extra/acro_dtai.png" width="400px" height="100px"</img>
    <img src="/extra/uh_ku.png" width="600px" height="100px"</img>
</div> <br />



The codegenerator is built in Java and can succesfully convert and generate the following JavaFX subset:
<table>
<tr><th>Containers</th><th>Controls</th></tr>
<tr><td>

| JavaFX     | GTK (gi-gtk) |
|------------|--------------|
| AnchorPane |    Layout    |
|  GridPane  |     Grid     |
|    Hbox    |     hbox     |
|    VBox    |     vbox     |
|   TabPane  |   Notebook   |

</td><td>

|   JavaFX    | GTK (gi-gtk) |
|-------------|--------------|
|    Button   |    Button    |
|    Label    |     Label    |
|  TextField  |     Entry    |
|   CheckBox  |  CheckButton |
|   ComboBox  | ComboBoxText |
| RadioButton |  RadioButton |
|  Hyperlink  |  LinkButton  |

</td></tr> </table>


## Background of this project
FunTTop in Diepenbeek aims to increase the use of functional programming in the field to be able to valorize the advantages in terms of efficiency and the number of lines of code compared to imperative programming languages. At the same time, FunTTop finds that programming a graphical user interface (GUI) is still cumbersome in Haskell, the academically developed functional language. Therefore, this master's thesis aims to develop a code generator that can convert the output of SceneBuilder (FXML) to Haskell code.

## Running the codegenerator from command line
This project contains a bash script to execute the codegenerator.
To make sure that the latest version is being exectuted, always compile and build the project (via IntelliJ).
To run the codegenerator, execute the script file with the path of the FXML-file as the first argument. If an invalid path is given, the codegenerator will generate a demo Haskell-file. 
```bash
./run.sh fxmlfile_path
```
To also execute the JavaFX-app and compile and run the freshly generated Haskell code, use the extra flag **-runandgenerate** as second argument for the script:
```bash
./run.sh fxmlfile_path -runandgenerate
```

## Current flaws with the codegenerator
- The user has to explicitly use the **Label-node** in SceneBuilder in stead of the **Text-node** becasue the codegenerator only assumes that **Text-nodes** are attributes of a bigger element or node.
- The codegenerator stores the widgets and relations separatly in **GTKWidget**-objects and **Relation**-objects which have to be maintained, but they provide flexibility to modify data.
- The **TabPane-node** is being parsed inefficiently due to the **Tab** (in JavaFX) not being of a **node-type**.
- The generated code can only run on Linux and Unix-like systems when the gi-gtk library is installed.
- The project in an IntelliJ project and the script uses a compiled executable generated by IntelliJ. If the source code is modified, compilation has to be manually done in IntelliJ to update the executable used for the script.
## TODOs for the future
- [ ] make the entire project buildable and compilable via command line with Gradle or Maven
- [ ] expand the subset of widgets
- [ ] find an all-in-one solution for parsing not trivial not-Node types such as the TabPane
- [ ] implement a Haskell-validator in the codegenerator that checks the Haskell syntax before the code is generated
